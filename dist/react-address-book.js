!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t(require("React"),require("ReactIntl"),require("Formsy"),require("_"),require("Intl")):"function"==typeof define&&define.amd?define(["React","ReactIntl","Formsy","_","Intl"],t):"object"==typeof exports?exports.AddressBook=t(require("React"),require("ReactIntl"),require("Formsy"),require("_"),require("Intl")):e.AddressBook=t(e.React,e.ReactIntl,e.Formsy,e._,e.Intl)}(this,function(e,t,s,r,a){return function(e){function t(r){if(s[r])return s[r].exports;var a=s[r]={exports:{},id:r,loaded:!1};return e[r].call(a.exports,a,a.exports,t),a.loaded=!0,a.exports}var s={};return t.m=e,t.c=s,t.p="/",t(0)}(function(e){for(var t in e)if(Object.prototype.hasOwnProperty.call(e,t))switch(typeof e[t]){case"number":e[t]=e[e[t]];break;case"object":e[t]=function(t){var s=t.slice(1),r=e[t[0]];return function(e,t,a){r.apply(null,[e,t,a].concat(s))}}(e[t])}return e}([function(e,t,s){e.exports=s(14)},function(t,s,r){t.exports=e},function(e,s,r){e.exports=t},function(e,t,s){e.exports=function(){var e=[];return e.toString=function(){for(var e=[],t=0;t<this.length;t++){var s=this[t];e.push(s[2]?"@media "+s[2]+"{"+s[1]+"}":s[1])}return e.join("")},e}},function(e,t,s){function r(e,t){for(var s=0;s<e.length;s++){var r=e[s],a=u[r.id];if(a){a.refs++;for(var n=0;n<a.parts.length;n++)a.parts[n](r.parts[n]);for(;n<r.parts.length;n++)a.parts.push(i(r.parts[n],t))}else{for(var o=[],n=0;n<r.parts.length;n++)o.push(i(r.parts[n],t));u[r.id]={id:r.id,refs:1,parts:o}}}}function a(e){for(var t=[],s={},r=0;r<e.length;r++){var a=e[r],n=a[0],i=a[1],o=a[2],l=a[3],c={css:i,media:o,sourceMap:l};s[n]?s[n].parts.push(c):t.push(s[n]={id:n,parts:[c]})}return t}function n(){var e=document.createElement("style"),t=p();return e.type="text/css",t.appendChild(e),e}function i(e,t){var s,r,a;if(t.singleton){var i=f++;s=h||(h=n()),r=l.bind(null,s,i,!1),a=l.bind(null,s,i,!0)}else s=n(),r=c.bind(null,s),a=function(){s.parentNode.removeChild(s)};return r(e),function(t){if(t){if(t.css===e.css&&t.media===e.media&&t.sourceMap===e.sourceMap)return;r(e=t)}else a()}}function o(e,t,s){var r=["/** >>"+t+" **/","/** "+t+"<< **/"],a=e.lastIndexOf(r[0]),n=s?r[0]+s+r[1]:"";if(e.lastIndexOf(r[0])>=0){var i=e.lastIndexOf(r[1])+r[1].length;return e.slice(0,a)+n+e.slice(i)}return e+n}function l(e,t,s,r){var a=s?"":r.css;if(e.styleSheet)e.styleSheet.cssText=o(e.styleSheet.cssText,t,a);else{var n=document.createTextNode(a),i=e.childNodes;i[t]&&e.removeChild(i[t]),i.length?e.insertBefore(n,i[t]):e.appendChild(n)}}function c(e,t){var s=t.css,r=t.media,a=t.sourceMap;if(a&&"function"==typeof btoa)try{s+="\n/*# sourceMappingURL=data:application/json;base64,"+btoa(JSON.stringify(a))+" */",s='@import url("data:text/css;base64,'+btoa(s)+'")'}catch(n){}if(r&&e.setAttribute("media",r),e.styleSheet)e.styleSheet.cssText=s;else{for(;e.firstChild;)e.removeChild(e.firstChild);e.appendChild(document.createTextNode(s))}}var u={},d=function(e){var t;return function(){return"undefined"==typeof t&&(t=e.apply(this,arguments)),t}},m=d(function(){return/msie 9\b/.test(window.navigator.userAgent.toLowerCase())}),p=d(function(){return document.head||document.getElementsByTagName("head")[0]}),h=null,f=0;e.exports=function(e,t){t=t||{},"undefined"==typeof t.singleton&&(t.singleton=m());var s=a(e);return r(s,t),function(e){for(var n=[],i=0;i<s.length;i++){var o=s[i],l=u[o.id];l.refs--,n.push(l)}if(e){var c=a(e);r(c,t)}for(var i=0;i<n.length;i++){var l=n[i];if(0===l.refs){for(var d=0;d<l.parts.length;d++)l.parts[d]();delete u[l.id]}}}}},function(e,t,r){e.exports=s},function(e,t,s){e.exports=r},function(e,t,s){"use strict";var r=function(e){return e&&e.__esModule?e["default"]:e},a=r(s(1)),n=(r(s(6)),r(s(8)));e.exports=function(e){var t="input-group-"+e.country;return a.createElement("div",{className:t},a.createElement("div",{className:"row"},a.createElement(n,{className:"col-sm-4",name:"postalCode",required:!0,value:e.postalCode})),a.createElement("div",{className:"row"},a.createElement(n,{className:"col-sm-8",name:"street",required:!0,value:e.street})),a.createElement("div",{className:"row"},a.createElement(n,{className:"col-sm-4",name:"number",required:!0,value:e.number}),a.createElement(n,{className:"col-sm-4",name:"complement",value:e.complement}),a.createElement(n,{className:"col-sm-4",name:"neighborhood",required:!0,value:e.neighborhood})),a.createElement("div",{className:"row"},a.createElement(n,{className:"col-sm-4",name:"city",required:!0,value:e.city}),a.createElement(n,{className:"col-sm-4",name:"state",required:!0,value:e.state}),a.createElement(n,{className:"col-sm-4",name:"country",required:!0,tabIndex:"-1",readOnly:"readonly",value:e.country})),a.createElement("div",{className:"row"},a.createElement(n,{className:"col-sm-4",name:"receiverName",required:!0,value:e.receiverName})))}},function(e,t,s){"use strict";var r=function(e){return e&&e.__esModule?e["default"]:e},a=r(s(1)),n=r(s(5)),i=s(2),o=(r(i),i.IntlMixin),l=i.FormattedMessage,c=a.createClass({displayName:"TextInput",mixins:[n.Mixin,o],getDefaultProps:function(){return{id:"input-"+(1e5*Math.random()).toFixed(),validations:"isAlphaNumericPunctuation"}},changeValue:function(e){this.setValue(e.currentTarget.value)},render:function(){var e,t="form."+this.props.name||this.props.label,s=this.props.className+" form-group";return!this.isPristine()&&this.showRequired()&&(s+=" required",e=this.props.requiredMessage||this.getIntlMessage("validation.required")),!this.isPristine()&&this.showError()&&(s+=" error",e=this.props.errorMessage||this.getIntlMessage("validation.alphaNumericPunctuation")),a.createElement("div",{className:s},a.createElement("label",{htmlFor:this.props.id},a.createElement(l,{message:this.getIntlMessage(t)})),a.createElement("input",{type:"text",id:this.props.id,className:"form-control",onChange:this.changeValue,value:this.getValue(),tabIndex:this.props.tabIndex,readOnly:this.props.readOnly}),a.createElement("p",{className:"help-block error"},e))}});e.exports=c},function(e,t,s){"use strict";var r=function(e){return e&&e.__esModule?e["default"]:e},a=r(s(1));e.exports=function(e){return a.createElement("div",{className:"address-lines"},a.createElement("div",{className:"address-line-1"},a.createElement("p",null,e.street,", ",e.number,", ",e.complement," - ",e.neighborhood)),a.createElement("div",{className:"address-line-2"},a.createElement("p",null,e.city," - ",e.state," - ",e.country)),a.createElement("div",{className:"address-line-3"},a.createElement("p",null,e.postalCode)))}},function(e,t,s){"use strict";var r=function(e){return e&&e.__esModule?e["default"]:e},a=r(s(1)),n=(r(s(6)),r(s(17))),i=r(s(8)),o=r(s(12)),l=["AC","AL","AM","AP","BA","CE","DF","ES","GO","MA","MT","MS","MG","PA","PB","PR","PE","PI","RJ","RN","RO","RS","RR","SC","SE","SP","TO"];e.exports=function(e){var t="input-group-"+e.country;return a.createElement("div",{className:t},a.createElement("div",{className:"row"},a.createElement(n,{className:"col-sm-4",value:e.postalCode})),a.createElement("div",{className:"row"},a.createElement(i,{className:"col-sm-8",name:"street",required:!0,value:e.street})),a.createElement("div",{className:"row"},a.createElement(i,{className:"col-sm-4",name:"number",required:!0,value:e.number}),a.createElement(i,{className:"col-sm-4",name:"complement",required:!0,value:e.complement}),a.createElement(i,{className:"col-sm-4",name:"neighborhood",required:!0,value:e.neighborhood})),a.createElement("div",{className:"row"},a.createElement(i,{className:"col-sm-4",name:"city",required:!0,value:e.city}),a.createElement(o,{className:"col-sm-4",name:"state",options:l,required:!0,value:e.state}),a.createElement(i,{className:"col-sm-4",name:"country",required:!0,tabIndex:"-1",readOnly:"readonly",value:e.country})),a.createElement("div",{className:"row"},a.createElement(i,{className:"col-sm-4",name:"receiverName",required:!0,value:e.receiverName})))}},function(e,t,s){"use strict";var r=function(e){return e&&e.__esModule?e["default"]:e},a=r(s(1)),n=r(s(8)),i=r(s(12)),o=["Alabama","Alaska","Arizona","Arkansas","California","Colorado","Connecticut","Delaware","Florida","Georgia","Hawaii","Idaho","Illinois","Indiana","Iowa","Kansas","Kentucky","Louisiana","Maine","Maryland","Massachusetts","Michigan","Minnesota","Mississippi","Missouri","Montana","Nebraska","Nevada","New Hampshire","New Jersey","New Mexico","New York","North Carolina","North Dakota","Ohio","Oklahoma","Oregon","Pennsylvania","Rhode Island","South Carolina","South Dakota","Tennessee","Texas","Utah","Vermont","Virginia","Washington","West Virginia","Wisconsin","Wyoming"];e.exports=function(e){var t="input-group-"+e.country;return a.createElement("div",{className:t},a.createElement("div",{className:"row"},a.createElement(n,{className:"col-sm-4",name:"postalCode",required:!0,value:e.postalCode})),a.createElement("div",{className:"row"},a.createElement(n,{className:"col-sm-8",name:"street",required:!0,value:e.street})),a.createElement("div",{className:"row"},a.createElement(n,{className:"col-sm-4",name:"number",required:!0,value:e.number}),a.createElement(n,{className:"col-sm-4",name:"complement",required:!0,value:e.complement}),a.createElement(n,{className:"col-sm-4",name:"neighborhood",required:!0,value:e.neighborhood})),a.createElement("div",{className:"row"},a.createElement(n,{className:"col-sm-4",name:"city",required:!0,value:e.city}),a.createElement(i,{className:"col-sm-4",name:"state",options:o,required:!0,value:e.state}),a.createElement(n,{className:"col-sm-4",name:"country",required:!0,tabIndex:"-1",value:e.country})),a.createElement("div",{className:"row"},a.createElement(n,{className:"col-sm-4",name:"receiverName",required:!0,value:e.receiverName})))}},function(e,t,s){"use strict";var r=function(e){return e&&e.__esModule?e["default"]:e},a=r(s(1)),n=r(s(5)),i=s(2),o=(r(i),i.IntlMixin),l=i.FormattedMessage,c=a.createClass({displayName:"SelectInput",mixins:[n.Mixin,o],getDefaultProps:function(){return{id:"input-"+(1e5*Math.random()).toFixed()}},changeValue:function(e){this.setValue(e.currentTarget.value)},render:function(){var e,t="form."+this.props.name||this.props.label,s=this.props.className+" form-group";this.showRequired()&&(s+=" required",e=this.props.requiredMessage||this.getIntlMessage("validation.required")),this.showError()&&(s+=" error",e=this.props.errorMessage||this.getIntlMessage("validation.alphaNumericPunctuation"));var r=this.props.options.map(function(e){var t=e.value?e.value:e,s=e.label?e.label:e;return a.createElement("option",{value:t},s)});return a.createElement("div",{className:s},a.createElement("label",{htmlFor:this.props.id},a.createElement(l,{message:this.getIntlMessage(t)})),a.createElement("select",{id:this.props.id,className:"form-control",onChange:this.changeValue,tabIndex:this.props.tabIndex,value:this.getValue()},r),a.createElement("p",{className:"help-block error"},e))}});e.exports=c},9,function(e,t,s){"use strict";var r=function(e){return e&&e.__esModule?e["default"]:e},a=r(s(1)),n=r(s(6)),i=r(s(16)),o=r(s(15));window.Intl||(window.Intl=s(28));var l=s(2),c=r(l),u=(l.IntlMixin,l.FormattedMessage);s(25),s(22);var d=a.createClass({displayName:"AddressBook",mixins:[c.IntlMixin],getInitialState:function(){return{addressList:this.props.addressList}},onSelect:function(e){this.setState({addressList:n.map(this.state.addressList,function(t){return t.selected=t===e,t})}),this.props.onSelect&&this.props.onSelect(e)},onCancel:function(){var e=function(e){return e.editing=!1},t=function(e){return!e.addressId};this.setState({addressList:n.chain(this.state.addressList).each(e).reject(t).value()})},onEdit:function(e){this.setState({addressList:n.map(this.state.addressList,function(t){return t.editing=t===e,t})})},onNewAddress:function(){this.state.addressList.push({editing:!0,country:this.props.country}),this.setState({addressList:this.state.addressList})},onValidSubmit:function(e){this.setState({addressList:n.map(this.state.addressList,function(t){return t.editing=!1,t.addressId&&t.addressId!==e.addressId||n.extend(t,e),t})}),this.props.onValidSubmit&&this.props.onValidSubmit(e)},render:function(){var e,t,s,r=this,l=n.find(this.state.addressList,function(e){return e.editing});return l?e=a.createElement(o,{initialAddress:l,onCancel:this.onCancel,onValidSubmit:this.onValidSubmit}):(s=n.map(this.state.addressList,function(e){return a.createElement(i,{key:e.addressId,address:e,onSelect:r.onSelect,onEdit:r.onEdit})}),t=a.createElement("div",{className:"address-summary-list"},s,a.createElement("button",{onClick:this.onNewAddress,className:"btn btn-primary new-address"},a.createElement(u,{message:this.getIntlMessage("newAddress")})))),a.createElement("div",{className:"address-book"},t,e)}});e.exports=d},function(e,t,s){"use strict";var r=function(e){return e&&e.__esModule?e["default"]:e},a=r(s(1)),n=r(s(5)),i=r(s(6)),o=s(2),l=r(o),c=(o.IntlMixin,o.FormattedMessage);s(23),n.addValidationRule("isAlphaNumericPunctuation",function(e,t){return/^[A-Za-zÀ-ž0-9\/\\\-\.\,\s\(\)\'\#ªº]*$/.test(t)});var u=a.createClass({displayName:"AddressForm",mixins:[l.IntlMixin],getInitialState:function(){return{canSubmit:!0,address:i.clone(this.props.initialAddress)}},onValidSubmit:function(e){e.addressId=this.state.address.addressId||(1e5*Math.random()).toFixed(),this.props.onValidSubmit(e)},onChange:function(e){this.setState({address:i.extend(this.state.address,e)})},enableButton:function(){this.setState({canSubmit:!0})},disableButton:function(){this.setState({canSubmit:!1})},render:function(){if(this.state.address){var e,t=this.state.address.country;try{e=s(26)("./InputGroup"+t)}catch(r){e=s(7)}return a.createElement(n.Form,{className:"address-form",onValidSubmit:this.onValidSubmit,onChange:this.onChange,onValid:this.enableButton,onInvalid:this.disableButton},e(this.state.address),a.createElement("div",{className:"row"},a.createElement("div",{className:"col-sm-3"},a.createElement("button",{className:"btn btn-default",onClick:this.props.onCancel,type:"button"},a.createElement(c,{message:this.getIntlMessage("cancel")})),a.createElement("button",{className:"btn btn-primary",type:"submit",disabled:!this.state.canSubmit},a.createElement(c,{message:this.getIntlMessage("save")})))))}}});e.exports=u},function(e,t,s){"use strict";var r=function(e){return e&&e.__esModule?e["default"]:e},a=r(s(1)),n=s(2),i=r(n),o=(n.IntlMixin,n.FormattedMessage);s(24);var l=a.createClass({displayName:"AddressSummary",mixins:[i.IntlMixin],onCheck:function(){this.props.onSelect&&this.props.onSelect(this.props.address)},onEdit:function(){this.props.onEdit&&this.props.onEdit(this.props.address)},render:function(){if(this.props.address){var e,t=this.props.address.country;try{e=s(27)("./Summary"+t)}catch(r){e=s(9)}return a.createElement("div",{className:"address-summary"},a.createElement("div",{className:"selected"},a.createElement("label",null,a.createElement("input",{type:"checkbox",checked:this.props.address.selected,onChange:this.onCheck}),a.createElement(o,{message:this.getIntlMessage("selected")}))),e(this.props.address),a.createElement("div",{className:"edit"},a.createElement("label",null,a.createElement("button",{className:"btn btn-link",onClick:this.onEdit},a.createElement(o,{message:this.getIntlMessage("edit")})))))}}});e.exports=l},function(e,t,s){"use strict";var r=function(e){return e&&e.__esModule?e["default"]:e},a=r(s(1)),n=r(s(5)),i=s(2),o=(r(i),i.IntlMixin);n.addValidationRule("isCEP",function(e,t){return/^([\d]{5})\-?([\d]{3})$/.test(t)});var l=a.createClass({displayName:"CEP",mixins:[n.Mixin,o],getDefaultProps:function(){return{name:"postalCode",validations:"isCEP",required:!0}},changeValue:function(e){this.setValue(e.currentTarget.value)},render:function(){var e,t=this.props.className+" form-group";return this.showRequired()&&(t+=" required",e=this.props.requiredMessage||this.getIntlMessage("validation.required")),this.showError()&&(t+=" error",e=this.props.errorMessage||this.getIntlMessage("validation.cep")),a.createElement("div",{className:t},a.createElement("label",{htmlFor:"cep"},"CEP"),a.createElement("input",{type:"text",id:"cep",className:"form-control",onChange:this.changeValue,tabIndex:this.props.tabIndex,value:this.getValue()}),a.createElement("p",{className:"help-block error"},e))}});e.exports=l},function(e,t,s){t=e.exports=s(3)(),t.push([e.id,".address-book{padding:5px;margin:5px}.address-book p,.new-address{margin:5px}",""])},function(e,t,s){t=e.exports=s(3)(),t.push([e.id,".address-form,.address-form p,.address-form .selected{margin:5px}.address-form .selected input{margin-right:5px}",""])},function(e,t,s){t=e.exports=s(3)(),t.push([e.id,".address-summary{border:1px solid #ccc;border-radius:5px;padding:5px;margin:5px}.address-summary p,.address-summary .selected{margin:5px}.address-summary .selected input{margin-right:5px}.address-summary .edit{margin:5px}.address-summary .edit button{margin-right:5px;padding:0}",""])},function(e,t,s){t=e.exports=s(3)(),t.push([e.id,'/*! normalize.css v3.0.3 | MIT License | github.com/necolas/normalize.css */html{font-family:sans-serif;-ms-text-size-adjust:100%;-webkit-text-size-adjust:100%}body{margin:0}article,aside,details,figcaption,figure,footer,header,hgroup,main,menu,nav,section,summary{display:block}audio,canvas,progress,video{display:inline-block;vertical-align:baseline}audio:not([controls]){display:none;height:0}[hidden],template{display:none}a{background-color:transparent}a:active,a:hover{outline:0}abbr[title]{border-bottom:1px dotted}b,strong{font-weight:700}dfn{font-style:italic}h1{font-size:2em;margin:.67em 0}mark{background:#ff0;color:#000}small{font-size:80%}sub,sup{font-size:75%;line-height:0;position:relative;vertical-align:baseline}sup{top:-.5em}sub{bottom:-.25em}img{border:0}svg:not(:root){overflow:hidden}figure{margin:1em 40px}hr{box-sizing:content-box;height:0}pre{overflow:auto}code,kbd,pre,samp{font-family:monospace,monospace;font-size:1em}button,input,optgroup,select,textarea{color:inherit;font:inherit;margin:0}button{overflow:visible}button,select{text-transform:none}button,html input[type="button"],input[type="reset"],input[type="submit"]{-webkit-appearance:button;cursor:pointer}button[disabled],html input[disabled]{cursor:default}button::-moz-focus-inner,input::-moz-focus-inner{border:0;padding:0}input{line-height:normal}input[type="checkbox"],input[type="radio"]{box-sizing:border-box;padding:0}input[type="number"]::-webkit-inner-spin-button,input[type="number"]::-webkit-outer-spin-button{height:auto}input[type="search"]{-webkit-appearance:textfield;box-sizing:content-box}input[type="search"]::-webkit-search-cancel-button,input[type="search"]::-webkit-search-decoration{-webkit-appearance:none}fieldset{border:1px solid silver;margin:0 2px;padding:.35em .625em .75em}legend{border:0;padding:0}textarea{overflow:auto}optgroup{font-weight:700}table{border-collapse:collapse;border-spacing:0}td,th{padding:0}',""])},function(e,t,s){var r=s(18);"string"==typeof r&&(r=[[e.id,r,""]]);s(4)(r,{})},function(e,t,s){var r=s(19);"string"==typeof r&&(r=[[e.id,r,""]]);s(4)(r,{})},function(e,t,s){var r=s(20);"string"==typeof r&&(r=[[e.id,r,""]]);s(4)(r,{})},function(e,t,s){var r=s(21);"string"==typeof r&&(r=[[e.id,r,""]]);s(4)(r,{})},function(e,t,s){function r(e){return s(a(e))}function a(e){return n[e]||function(){throw new Error("Cannot find module '"+e+"'.")}()}var n={"./InputGroup":7,"./InputGroup.js":7,"./InputGroupBRA":10,"./InputGroupBRA.js":10,"./InputGroupUSA":11,"./InputGroupUSA.js":11};r.keys=function(){return Object.keys(n)},r.resolve=a,e.exports=r,r.id=26},function(e,t,s){function r(e){return s(a(e))}function a(e){return n[e]||function(){throw new Error("Cannot find module '"+e+"'.")}()}var n={"./Summary":9,"./Summary.js":9,"./SummaryBRA":13,"./SummaryBRA.js":13};r.keys=function(){return Object.keys(n)},r.resolve=a,e.exports=r,r.id=27},function(e,t,s){e.exports=a}]))});
//# sourceMappingURL=react-address-book.js.map